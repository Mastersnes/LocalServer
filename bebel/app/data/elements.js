define(["jquery","app/data/actions"],function(g,a){var m={"eclair-choco":{action:a.get("ralenti")},"eclair-vanille":{sound:"/slide.mp3",action:a.get("glisse")},"eclair-fraise":{sound:"/effort.mp3",action:a.get("tombe")},choux:{sound:"/pouic.mp3",action:a.get("bouge-verticale")},macaron:{sound:"/boing.mp3",action:a.get("rebondi")},muffin:{sound:"/psss.mp3",hitbox:{x:94,y:80,w:180,h:180},action:a.get("explose")},"gateau-fraise":{hitbox:{x:0,y:10,w:170,h:100},sound:"/ahha.mp3",action:{}},fraise:{action:a.get("bouge-tue")},
citron:{action:a.get("bouge-tue")},"gateau-choco":{sound:"/pop.mp3",action:a.get("bouton")},brownie:{action:a.get("porte")},gaufrette:{sound:"/crack.mp3",hitbox:{x:0,y:0,w:60,h:30},action:a.get("checkpoint")},banane:{sound:"/win.mp3",hitbox:{x:10,y:50,w:185,h:50},action:{useY:function(e){e.gagne()}}},beurre:{sound:"/zouip.mp3",action:a.get("glisse")},oeuf:{action:{useY:function(e){var c=this.dom;if(0!=c.position().top&&!(-500>c.offset().left-c.width()||c.offset().left>g(".game").width()+500)){var b=
c.attr("cible"),b=g(".stage .element[ref\x3d"+b+"]"),a=c.attr("index");void 0==e.delay["oeuf"+a]&&(b.hide(),e.delay["oeuf"+a]=0);var d=b.attr("coquille-active");5<=++e.delay["oeuf"+a]&&!d&&(e.delay["oeuf"+a]=0,d=1,c.attr("etape")&&(d=parseInt(c.attr("etape"))),d++,c.attr("etape",d),c.removeClass(function(b,c){return(c.match(/\betape-\S+/g)||[]).join(" ")}),c.addClass("etape-"+d),4<d&&(b.show(),e.delay["oeuf"+a]=0,c.removeAttr("etape"),b.attr("coquille-active",!0)))}},reset:function(a){this.useY(a)}}},
coquille:{action:{useX:function(a){a.flag.dead=!0},useY:function(a,c){var b=this.dom;if(0!=b.position().top&&!(-500>b.offset().left-b.width()||b.offset().left>g(".game").width()+500)&&(b.attr("start")||b.attr("start",b.position().left),b.attr("coquille-active"))){var f=-1;b.attr("move")?f=b.attr("move"):b.attr("move",f);var d=parseFloat(b.attr("start")),f=parseInt(f),h=1;b.attr("vitesse")&&(h=parseInt(b.attr("vitesse")));var l=200;b.attr("distance")&&(l=parseInt(b.attr("distance")));var k=1;b.attr("sens")&&
(k=parseInt(b.attr("sens")));b.css({left:"+\x3d"+k*f*h+"px"});c||(a.position.x+=k*f*h);b.position().left<d-l?b.attr("move",1):b.position().left>d&&(b.css({left:"\x3d"+d+"px"}),b.hide(),b.removeAttr("move"),b.removeAttr("coquille-active"))}},reset:function(a){this.useY(a,!0)}}},rouleau:{sound:"/rouleau.mp3",action:{}},chocolat:{hitbox:{x:0,y:-10,w:200,h:20},sound:"/ahh.mp3",action:{}},noisette1:{action:a.get("bouge-tue")},noisette2:{action:a.get("bouge-tue")},noisette3:{action:a.get("bouge-tue")},
noisette4:{action:a.get("bouge-tue")},pomme:{sound:"/boing.mp3",action:a.get("rebondi")},poire:{sound:"/poire.mp3",hitbox:{x:20,y:20,w:130,h:120},action:{}},pate:{sound:"/cat.mp3",hitbox:{x:0,y:50,w:170,h:50},action:a.get("ralenti")},mochi:{sound:"/cute.mp3",action:a.get("bouton")},farine:{hitbox:{x:0,y:0,w:70,h:145},action:a.get("porte")},sucre:{sound:"/crack.mp3",action:a.get("checkpoint")},date:{sound:"/date.mp3",action:a.get("bouge-verticale")},"raisin-blanc":{action:a.get("bouge-tue")},"raisin-noir":{action:a.get("bouge-tue")},
yahourt:{sound:"/hmm.mp3",hitbox:{x:50,y:60,w:230,h:270},action:{useY:function(a){var c=this.dom;c.attr("index");var b=0;c.attr("delay")&&(b=parseInt(c.attr("delay")));b++;c.attr("delay",b);10<=b&&(c.attr("delay",0),b=1,c.attr("saut")&&(b=parseInt(c.attr("saut"))),b++,c.attr("saut",b),c.removeClass(function(b,c){return(c.match(/\bsaut-\S+/g)||[]).join(" ")}),c.addClass("saut-"+b),3==b&&(c.attr("delay",0),b=this.parent.hitbox,b=c.position().top+b.y,c.css({"z-index":50}),g("#player").animate({top:b+
"px"},function(){c.css({"z-index":0});a.flag.dead=!0;c.removeClass(function(b,c){return(c.match(/\bsaut-\S+/g)||[]).join(" ")});c.removeAttr("saut")})))},reset:function(a){a=this.dom;a.attr("index");a.attr("delay",0);a.removeClass(function(a,b){return(b.match(/\bsaut-\S+/g)||[]).join(" ")});a.removeAttr("saut")}}},coeur:{sound:"coin.mp3",float:!0,action:{useY:function(a){var c=this.dom;c.attr("use")||(a.flag.point++,c.attr("use",!0),c.addClass("hidden"))},useX:function(a){var c=this.dom;c.attr("use")||
(a.flag.point++,c.attr("use",!0),c.addClass("hidden"))}}}};return{get:function(a){return g.extend(!0,{},m[a])}}});