define(["jquery","underscore","app/utils/utils"],function(c,e,f){return function(d){this.init=function(a){this.el="#cinematique";this.screens=[];this.Textes=a;this.makeEvents()};this.load=function(a){c(this.el).fadeIn();this.screens=a;this.current=0;this.show()};this.next=function(){this.current++;this.current>=this.screens.length?(this.screens=[],c(this.el).fadeOut("slow")):this.show()};this.show=function(){var a=this.Textes.local;"fr"!=a&&"en"!=a&&(a="en");var b=this.screens[this.current],b=b+"-"+
a;c(this.el).find("#current").attr("class","page "+b);this.current+1<this.screens.length&&(b=this.screens[this.current+1],b=b+"-"+a,c(this.el).find("#next").attr("class","page "+b))};this.makeEvents=function(){var a=this;c(this.el).click(function(){a.next()})};this.empty=function(){return 0==this.screens.length};this.init(d)}});