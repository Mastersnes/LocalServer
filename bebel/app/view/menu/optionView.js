define(["jquery","underscore","app/utils/utils","text!app/template/menu/popup/option.html"],function(a,e,h,f){return function(d,g){this.init=function(a,b){this.el="#option-popup";this.Textes=b;this.parent=a;this.render()};this.render=function(){e.templateSettings.variable="data";var c=e.template(f),b={text:this.Textes};a(this.el).html(c(b));this.makeEvents()};this.makeEvents=function(){var c=this;a(this.el).find(".close").click(function(){a(c.el).hide("slow")});a(this.el).find(".flag.fr").click(function(){c.Textes.local=
"fr";d.render()});a(this.el).find(".flag.en").click(function(){c.Textes.local="en";d.render()});a(this.el).find("#fullscreen").click(function(){var b=a("body")[0];b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()})};this.show=function(){a(this.el).show("slow")};this.init(d,g)}});